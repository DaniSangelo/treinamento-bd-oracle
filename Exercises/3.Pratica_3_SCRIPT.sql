DROP TABLE HISTORICO;
DROP TABLE TURMAS;
DROP TABLE INSTRUTORES;
DROP TABLE CURSOREQUISITO;
DROP TABLE PREREQUISITO;
DROP TABLE CURSOS;
DROP TABLE ENDERECOALUNO;
DROP TABLE ALUNOS;
DROP TABLE CURSOSVELHOS;

CREATE TABLE INSTRUTORES
   (CDINSTRUTOR     NUMBER(3),
    NMINSTRUTOR     VARCHAR2(30) CONSTRAINT INSTRUTORES_NOME_NU NOT NULL,
    NRTELINSTRUTOR  VARCHAR2(10),
    DTADMISSAO 	    DATE DEFAULT SYSDATE,
	
	CONSTRAINT INSTRUTORES_PK PRIMARY KEY (CDINSTRUTOR)	
	);

CREATE TABLE CURSOS
   (CDCURSO     	NUMBER(3)   CONSTRAINT CURSOS_PK PRIMARY KEY,
    NMCURSO    		VARCHAR2(60) CONSTRAINT UNIQ_CURSOS_NOME NOT NULL UNIQUE,
    QTCARGAHORARIA 	NUMBER(3),
    VRCURSO 	  	FLOAT DEFAULT 0);
	
CREATE TABLE PREREQUISITO
(
	CDPREREQUISITO NUMBER(3),
	NMPREREQUISITO VARCHAR2(100) NOT NULL,
	IDATIVO CHAR(3) DEFAULT 'SIM' NOT NULL 
		CONSTRAINT CHK_IDATIVO_PREREQ CHECK (IDATIVO IN ('SIM', 'NAO')),
	CONSTRAINT CDPREREQUISITO_PK PRIMARY KEY (CDPREREQUISITO)
);

--ALTER TABLE PREREQUISITO ADD CONSTRAINT NOME_CONSTRAINT CHECK (IDATIVO IN ('S', 'N'));

CREATE TABLE CURSOREQUISITO
(
	CDCURSO NUMBER(3),
	CDPREREQUISITO NUMBER(3),	
	CONSTRAINT CURSOREQUISITO_PK PRIMARY KEY (CDCURSO, CDPREREQUISITO),	
	CONSTRAINT CDCURSO_CURSOPREREQ_FK FOREIGN KEY (CDCURSO)
		REFERENCES CURSOS (CDCURSO),
	CONSTRAINT CDPREREQ_FK FOREIGN KEY (CDPREREQUISITO)
		REFERENCES PREREQUISITO (CDPREREQUISITO)
);

CREATE TABLE ALUNOS
   (CDMATRICULA     NUMBER(3)    CONSTRAINT ALUNOS_PK PRIMARY KEY,
    NMALUNO	    	VARCHAR2(30) CONSTRAINT ALUNOS_NOME_NU NOT NULL,
    NRTELALUNO      VARCHAR2(10)
    );
	
CREATE TABLE ENDERECOALUNO
(
	CDMATRICULA NUMBER(3) CONSTRAINT ENDEALUNO_PK PRIMARY KEY,
	DSENDERECO  VARCHAR2(100) NULL,
    NMMUNICIPIO VARCHAR2(20) DEFAULT 'MINAS GERAIS',
    UF		    CHAR(2)      DEFAULT 'MG' 
		CONSTRAINT ALUNOS_UF_CH CHECK (UF IN ('SP', 'MG', 'RJ', 'ES'))
);

ALTER TABLE ENDERECOALUNO ADD NMBAIRRO VARCHAR2(30) NULL;

ALTER TABLE ENDERECOALUNO ADD CONSTRAINT CDMATRICULA_ALUNO_FK FOREIGN KEY (CDMATRICULA)
	REFERENCES ALUNOS (CDMATRICULA);

CREATE TABLE TURMAS
   (CDTURMA 	   NUMBER(3)   CONSTRAINT TURMAS_PK PRIMARY KEY, 
    CDCURSO        CONSTRAINT TURMAS_CURSO_FK REFERENCES CURSOS(CDCURSO),
    CDINSTRUTOR    CONSTRAINT TURMAS_INSTRUTOR_FK REFERENCES INSTRUTORES(CDINSTRUTOR),
    VRHRINSTRUTOR  FLOAT DEFAULT 0,
    NRSALA	       NUMBER(2));

CREATE TABLE HISTORICO
   (CDTURMA         CONSTRAINT HISTORICO_TURMA_FK REFERENCES TURMAS (CDTURMA),
    CDMATRICULA     CONSTRAINT HISTORICO_ALUNO_FK REFERENCES ALUNOS (CDMATRICULA),
    VRNOTA	    	FLOAT,
	
    CONSTRAINT HISTORICO_PK PRIMARY KEY (CDTURMA, CDMATRICULA)
   );
   
CREATE TABLE CURSOSVELHOS
   (CDCURSO       NUMBER(3)   CONSTRAINT CURSOS_VELHOS_PK PRIMARY KEY,
    NMCURSO       VARCHAR2(60) CONSTRAINT CURSOS_VELHOS_NOME_NNU NOT NULL UNIQUE,
    QTCARGAHORARIA NUMBER(3),
    VRCURSO 	      FLOAT DEFAULT 0);

-- INSERINDO DADOS: INSTRUTORES

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, NRTELINSTRUTOR, DTADMISSAO)
VALUES (1, 'MARIA CAROLINA SIRIO', '344-8788', TO_DATE('1/2/1997','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, NRTELINSTRUTOR, DTADMISSAO)
VALUES (2, 'PEDRO PAULO CANOPO', '274-9018', TO_DATE('3/8/1996','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, NRTELINSTRUTOR, DTADMISSAO)
VALUES (3, 'AUGUSTO LEMOS VEGA', '722-1300', TO_DATE('12/11/1998','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, NRTELINSTRUTOR, DTADMISSAO)
VALUES (4, 'MÔNICA SILVEIRA CAPELA',  '212-7938', TO_DATE('30/12/1997','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, NRTELINSTRUTOR, DTADMISSAO)
VALUES (5, 'ALMIR ALTAIR',  '220-6022', TO_DATE('3/10/1996','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR, DTADMISSAO)
VALUES (6, 'LEONARDO GUIMARÃES RIGEL', TO_DATE('17/7/1997','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR,  DTADMISSAO)
VALUES (7, 'BEATRIZ BELLATRIX',  TO_DATE('18/9/1998','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR,  DTADMISSAO)
VALUES (8, 'CARLOS REGULOS',  TO_DATE('1/3/1997','DD/MM/YYYY'));

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR)
VALUES (9, 'JOANA ALDEBARAN');

INSERT INTO INSTRUTORES (CDINSTRUTOR, NMINSTRUTOR)
VALUES (10, 'MATIAS AGENA');
       
-- INSERINDO DADOS: CURSOS

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (1, 'INTRODUÇÃO À LÓGICA DE PROGRAMAÇÃO', 32, 800);

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (2, 'FUNDAMENTOS DA MODELAGEM DE DADOS', 40, 950);

INSERT INTO CURSOS (CDCURSO, NMCURSO)
VALUES (3, 'REDES I');

INSERT INTO CURSOS (CDCURSO, NMCURSO)
VALUES (4, 'INTRODUÇÃO A SISTEMAS OPERACIONAIS');

INSERT INTO CURSOS (CDCURSO, NMCURSO)
VALUES (5, 'ANÁLISE ORIENTADA POR OBJETOS');

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (6, 'JAVA: RECURSOS BÁSICOS', 24, 400);

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (7, 'JAVA: ACESSO A BANCOS DE DADOS', 24, 400);

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (8, 'ORACLE: SQLPLUS E SQL', 32, 750);

INSERT INTO CURSOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (9, 'ORACLE: PL/SQL', 24, 750);

INSERT INTO CURSOS (CDCURSO, NMCURSO)
VALUES (10, 'REDES II');


-- INSERINDO DADOS: PREREQUISITO

INSERT INTO PREREQUISITO (CDPREREQUISITO, NMPREREQUISITO)
VALUES (1, 'Ter concluído o curso REDES I');

INSERT INTO PREREQUISITO (CDPREREQUISITO, NMPREREQUISITO)
VALUES (2, 'Ter conhecimentos básicos em sistemas operacionais');

INSERT INTO PREREQUISITO (CDPREREQUISITO, NMPREREQUISITO)
VALUES (3, 'Conhecimentos básicos em modelagem de dados');

INSERT INTO PREREQUISITO (CDPREREQUISITO, NMPREREQUISITO)
VALUES (4, 'Conhecimentos básicos de lógica de programação');

INSERT INTO PREREQUISITO (CDPREREQUISITO, NMPREREQUISITO)
VALUES (5, 'Conhecimentos básicos de informática');

-- INSERINDO DADOS: CURSOREQUISITO

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (1, 5);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (3, 2);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (5, 4);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (5, 2);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (7, 3);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (7, 4);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (8, 3);

INSERT INTO CURSOREQUISITO (CDCURSO, CDPREREQUISITO)
VALUES (3, 1);


-- INSERINDO DADOS: ALUNOS


INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (1, 'ZEBEDEU SILVA HYDRA', '3474-2318');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (2, 'YAMANDU RAMOS CENTAURUS', '399-1490');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (3, 'WELLINGTON LIBRA', '665-1138');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (4, 'TADEU PERSEU', '311-4671');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (5, 'LUIS ERIDANUS RIOS', '211-6600');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (6, 'MARCELO LYRA', '221-1639');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (7, 'CARLA CASSIOPEIA', '219-2266');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (8, 'DANIEL AURIGA', '9786-5432');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (9, 'JOSÉ NEVES GEMINI', '812-5322');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO, NRTELALUNO)
VALUES (10, 'VALÉRIA SCORPIO', '761-6432');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (11, 'ÁLVARO LEPUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (12, 'ANA COLUMBA');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (13, 'LUÍSA DELPHINUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (14, 'LAÉRCIO CETUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (15, 'RICARDO VELA');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (16, 'SANDRA GOMES CARINA');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (17, 'FRANCISCO CRUX');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (18, 'GÉRSON ORION');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (19, 'HUMBERTO MUSCA');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (20, 'RONALDO SAGITTARIUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (21, 'GERALDO CAPRICORNIUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (22, 'GENARO BOOTES');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (23, 'GAGO URSA');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (24, 'NAIR PEGASUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (25, 'ORMINDO OPHIUCUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (26, 'PAULO AQUARIUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (27, 'BERNARDO CORONA BOREALIS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (28, 'EVARISTO PISCES');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (29, 'FERNANDA TAURUS');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (30, 'LOMÂNCIO VIRGO');

INSERT INTO ALUNOS (CDMATRICULA, NMALUNO)
VALUES (31, 'EPAMINONDAS CORONA AUSTRALIS');

-- INSERINDO DADOS: ENDERECOALUNO

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (1, 'R. ADOLFO LUTZ, 27/902', 'SÃO PAULO', 'SP');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (2, 'R. ALBERT EINSTEIN, 13/102', 'CAMPINAS', 'SP');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (3, 'AV. DO CONTORNO, 5900', 'LINHARES', 'ES');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (4, 'TV. ORQUÍDEAS, 127 CASA 2', 'BARBACENA', 'MG');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (5, 'AV. CONCEIÇÃO SILVA, 222/1002', 'UBERABA', 'MG');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (6, 'R. JOAQUIM HERNANDEZ, 1/703', 'VITORIA', 'ES');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (7, 'AV. 15 DE ABRIL, 3500/1902', 'SOROCABA', 'SP');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (8, 'AV. TIETÊ, 1178/1204', 'SÃO PAULO', 'SP');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO, UF)
VALUES (9, 'AV. DOS LIMOEIROS, 44/102', 'BELO HORIZONTE', 'MG');

INSERT INTO ENDERECOALUNO (CDMATRICULA,  DSENDERECO, NMMUNICIPIO)
VALUES (10, 'R. ALTA, 32/886', 'CAMPOS');

-- INSERINDO DADOS: TURMAS

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (1, 1, 1, 20, 2);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (2, 1, 2, 20, 5);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (3, 2, 3, 25, 4);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (4, 3, 4, 20, 4);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (5, 3, 5, 20, 6);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (6, 1, 6, 20, 2);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (7, 7, 6, 25, 1);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (8, 5, 8, 40, 8);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (9, 2, 5, 25, 9);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (10, 4, 2, 15, 3);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (11, 8, 9, 35, 5);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (12, 6, 6, 20, 2);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (13, 5, 7, 45, 2);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (14, 3, 5, 15, 4);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (15, 1, 1, 15, 9);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (16, 4, 7, 10, 1);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (17, 2, 9, 28, 2);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (18, 8, 5, 33, 3);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (19, 6, 3, 14, 6);

INSERT INTO TURMAS (CDTURMA, CDCURSO, CDINSTRUTOR, VRHRINSTRUTOR, NRSALA) 
VALUES (20, 2, 8, 18, 1);

-- INSERINDO DADOS: HISTORICO

INSERT INTO HISTORICO (CDTURMA, CDMATRICULA, VRNOTA)
VALUES (1, 1, 7.5);

-- INSERINDO: CURSOSVELHOS

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (101, 'WINDOWS 3.1: RECURSOS BÁSICOS', 16, 300);

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (102, 'WINDOWS 3.1: RECURSOS AVANÇADOS', 16, 350);

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO)
VALUES (103, 'WORD 2.0: RECURSOS BÁSICOS');

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO)
VALUES (104, 'WORD 2.0: RECURSOS AVANÇADOS');

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO)
VALUES (105, 'EXCEL 4.0: RECURSOS BÁSICOS');

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO)
VALUES (106, 'EXCEL 4.0: RECURSOS AVANÇADOS');

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA, VRCURSO)
VALUES (107, 'ACCESS 1.0: RECURSOS AVANÇADOS', 24, 400);

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (108, 'COREL DRAW 3.0', 24, 450);

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (109, 'LOTUS 1-2-3 FOR WINDOWS', 16, 250);

INSERT INTO CURSOSVELHOS (CDCURSO, NMCURSO, QTCARGAHORARIA , VRCURSO)
VALUES (110, 'JAVA: RECURSOS BÁSICOS', 24, 600);

COMMIT;
